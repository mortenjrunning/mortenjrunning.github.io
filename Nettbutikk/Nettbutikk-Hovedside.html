<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Nettbutikk</title>

  </head>
  <link rel="stylesheet" type="text/css" href="C:\Users\morty\Documents\GitHub\mortenjrunning.github.io\Nettbutikk\Nettbutikk-Stylesheet.css"</link>
  <body>
<h1>Nettbutikk</h1>

<!--legg inn flexboks for nav -->

    <nav>

  <div id="nav">
    <div class="Inventar">Inventar</div>
    <div class="">Handle</div>

      <p>Inventar</p>
      <p>Handlekurv</p>
      <p></p>
    </nav>

<main>


  <article class="Artikler" id="artBestselgere">
    <h1>Bestselgere</h1>
    <div id="divBestselgere">

  </div>
</article>
  <article class="Artikler" id="artAlle">
  <div id="divSøk">
    <h1>Søk</h1>
    <input type="text" id="inpSøk" onkeyup="søk()" placeholder="Søk etter forfatter/bok">
  </div>
    <div id="divAlle">

    </div>
  </article>

  <article>
  <h1>Tilbud</h1>
  <div id="divTilbud">

  </div>
</article>
</main>

<script src="https://www.gstatic.com/firebasejs/5.9.3/firebase.js"></script>
<script>
  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCKfBFUoW6PMebU2TrTMkvTAFI1ePdA10g",
    authDomain: "it01-4dae5.firebaseapp.com",
    databaseURL: "https://it01-4dae5.firebaseio.com",
    projectId: "it01-4dae5",
    storageBucket: "it01-4dae5.appspot.com",
    messagingSenderId: "942475831825"
  };
  firebase.initializeApp(config);
</script>

<script>


//refererer til HTML-elementer

const main = document.querySelector("main");
const db = firebase.database();
const forfatter = db.ref("forfatter");
let divAlle = document.querySelector("#divAlle");
let btnVisAlle = document.querySelector("#btnVisAlle");
let divBestselgere = document.querySelector("#divBestselgere");


//Funksjon som henter ut informasjon om forfatterene fra databasen, og putter inn i en ny artikkel for hver
  function visForfatter(snapshot){
    let forfatterSnap = snapshot.val();
  divAlle.innerHTML+=`
    <article class="forfatter">
      <h1>${forfatterSnap.fornavn} ${forfatterSnap.etternavn}</h1>
      <p>Født i ${forfatterSnap.født}</p>
      <p>Kjente verker:</p>
      <table style="width:100%">
      <tr>
        <th>Tittel</th>
        <th>Pris (kr)<th>
      </tr>
      <tr>
        <td>${forfatterSnap.bøker[0].tittel}</td>
        <td>${forfatterSnap.bøker[0].Pris}</td>
      </tr>
      <tr>
        <td>${forfatterSnap.bøker[1].tittel}</td>
        <td>${forfatterSnap.bøker[1].Pris}</td>
      </tr>

      </table>
    </article>
  `;

  let td
};


//skriver ut artikler med bestselgere, fra databasen
let visBestselgere = function(snapshot){
  let forfatterSnap = snapshot.val();
  divBestselgere.innerHTML+=`
  <article class="forfatter">
    <h2>${forfatterSnap.bestselger}</h2>
    <h2>${forfatterSnap.etternavn}</h2>
    <p>Bestselger: ${forfatterSnap.bestselger}</p>
  </article>
  `
};



//aktiverer funksjonene
  forfatter.on("child_added",visForfatter);

  forfatter.on("child_added",visBestselgere);


</script>



<footer>

</footer>

  </body>
</html>
